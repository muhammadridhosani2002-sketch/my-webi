<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Video Facebook - Gratis & Cepat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1877f2 0%, #0d5cb6 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(to right, #1877f2, #0d5cb6);
            color: white;
            padding: 30px 40px;
            text-align: center;
        }
        
        .logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .tagline {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .main-content {
            padding: 40px;
        }
        
        .download-form {
            background-color: #f0f2f5;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #1877f2;
        }
        
        .url-input {
            display: flex;
            gap: 10px;
        }
        
        .url-input input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .url-input input:focus {
            border-color: #1877f2;
            outline: none;
            box-shadow: 0 0 0 3px rgba(24, 119, 242, 0.2);
        }
        
        .btn {
            background: linear-gradient(to right, #1877f2, #0d5cb6);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(24, 119, 242, 0.3);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn-download {
            background: linear-gradient(to right, #42b72a, #36a420);
            padding: 18px 35px;
            font-size: 1.1rem;
        }
        
        .btn-download:hover {
            box-shadow: 0 7px 14px rgba(66, 183, 42, 0.3);
        }
        
        .api-config {
            background-color: #fff8e1;
            border-left: 4px solid #ffb300;
            padding: 20px;
            margin-top: 20px;
            border-radius: 0 10px 10px 0;
        }
        
        .api-config h3 {
            color: #ff8f00;
            margin-bottom: 10px;
        }
        
        .api-config input {
            width: 100%;
            padding: 12px 15px;
            margin: 10px 0;
            border: 2px solid #ffb300;
            border-radius: 8px;
            font-size: 0.95rem;
        }
        
        .api-config button {
            background-color: #ffb300;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .api-config button:hover {
            background-color: #ff8f00;
        }
        
        .result {
            background-color: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-top: 20px;
            display: none;
        }
        
        .result.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .video-preview {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .video-thumbnail {
            width: 100%;
            max-width: 500px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .video-thumbnail img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .video-info {
            width: 100%;
            max-width: 500px;
        }
        
        .video-info h3 {
            margin-bottom: 10px;
            color: #1877f2;
        }
        
        .video-info p {
            margin-bottom: 8px;
            color: #666;
        }
        
        .download-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .download-option {
            background-color: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.2s;
        }
        
        .download-option:hover {
            border-color: #1877f2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .download-option h4 {
            color: #1877f2;
            margin-bottom: 10px;
        }
        
        .download-option p {
            color: #666;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        .how-to-use {
            background-color: #f0f2f5;
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
        }
        
        .how-to-use h2 {
            color: #1877f2;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
        }
        
        .step {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.05);
        }
        
        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background-color: #1877f2;
            color: white;
            border-radius: 50%;
            line-height: 40px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .step h3 {
            margin-bottom: 10px;
            color: #333;
        }
        
        .step p {
            color: #666;
            line-height: 1.5;
        }
        
        .note {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin-top: 30px;
            border-radius: 0 10px 10px 0;
        }
        
        .note h3 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .note p {
            color: #856404;
        }
        
        footer {
            background-color: #f0f2f5;
            padding: 25px;
            text-align: center;
            color: #666;
            margin-top: 40px;
            border-top: 1px solid #ddd;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: #1877f2;
            text-decoration: none;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            display: none;
        }
        
        .loading.active {
            display: block;
        }
        
        .spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #1877f2;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error {
            background-color: #fee;
            border-left: 4px solid #f44336;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            display: none;
        }
        
        .error.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @media (max-width: 768px) {
            .container {
                border-radius: 15px;
            }
            
            header {
                padding: 25px 20px;
            }
            
            .main-content {
                padding: 25px;
            }
            
            .url-input {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fab fa-facebook"></i>
                <i class="fas fa-download"></i>
            </div>
            <h1>Download Video Facebook</h1>
            <p class="tagline">Download video dari Facebook dengan mudah dan gratis. Cukup tempel tautan video Facebook, pilih kualitas, dan download!</p>
        </header>
        
        <div class="main-content">
            <div class="download-form">
                <div class="form-group">
                    <label for="fb-url"><i class="fas fa-link"></i> Tempel Tautan Video Facebook</label>
                    <div class="url-input">
                        <input type="url" id="fb-url" placeholder="Contoh: https://www.facebook.com/username/videos/1234567890" required>
                        <button class="btn" id="paste-btn">
                            <i class="fas fa-paste"></i> Tempel
                        </button>
                    </div>
                </div>
                
                <div class="api-config" id="api-config">
    <h3><i class="fas fa-check-circle"></i> API Siap Digunakan!</h3>
    <p><strong>API sudah terkonfigurasi dengan API Key Anda.</strong></p>
    <p style="font-size: 0.9rem; margin-top: 10px;">
        <i class="fas fa-key"></i> 
        Menggunakan API: facebook-videos-reels-downloader.p.rapidapi.com
    </p>
</div>
                
                <button class="btn btn-download" id="download-btn">
                    <i class="fas fa-download"></i> Download Video
                </button>
            </div>
            
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Memproses video, harap tunggu...</p>
            </div>
            
            <div class="error" id="error">
                <h3><i class="fas fa-exclamation-triangle"></i> Error</h3>
                <p id="error-message">Terjadi kesalahan saat memproses video.</p>
            </div>
            
            <div class="result" id="result">
                <div class="video-preview">
                    <div class="video-thumbnail">
                        <img id="video-thumbnail" src="https://images.unsplash.com/photo-1611605698335-8b1569810432?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Video Thumbnail">
                    </div>
                    <div class="video-info">
                        <h3 id="video-title">Video Facebook - Contoh Judul</h3>
                        <p><i class="far fa-clock"></i> Durasi: <span id="video-duration">2:30</span></p>
                        <p><i class="fas fa-expand-alt"></i> Resolusi: <span id="video-resolution">1280x720</span></p>
                        <p><i class="fas fa-database"></i> Ukuran: <span id="video-size">45 MB</span></p>
                    </div>
                </div>
                
                <div class="download-options" id="download-options">
                    <!-- Download options akan ditampilkan di sini -->
                </div>
            </div>
            
            <div class="how-to-use">
                <h2>Cara Menggunakan Downloader Video Facebook</h2>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h3>Dapatkan API Key</h3>
                        <p>Daftar di RapidAPI dan dapatkan API Key gratis untuk Facebook Video Downloader API.</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h3>Salin Tautan Video</h3>
                        <p>Buka Facebook, cari video yang ingin diunduh. Salin tautan video dengan mengklik "Salin Tautan".</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h3>Tempel & Download</h3>
                        <p>Tempel tautan di sini, simpan API Key, lalu klik tombol Download Video.</p>
                    </div>
                </div>
                
                <div class="note">
                    <h3><i class="fas fa-exclamation-triangle"></i> Catatan Penting</h3>
                    <p>Anda memerlukan API Key dari RapidAPI untuk menggunakan layanan ini. Website ini hanya untuk mendownload video Facebook yang bersifat publik. Pastikan Anda memiliki izin dari pemilik konten sebelum mendownload dan menggunakan video tersebut.</p>
                </div>
            </div>
        </div>
        
        <footer>
            <div class="footer-links">
                <a href="#"><i class="fas fa-shield-alt"></i> Privasi</a>
                <a href="#"><i class="fas fa-file-contract"></i> Syarat Layanan</a>
                <a href="#"><i class="fas fa-question-circle"></i> Bantuan</a>
                <a href="https://rapidapi.com/ytjar/api/facebook-video-and-reel-downloader/" target="_blank"><i class="fas fa-key"></i> Dapatkan API Key</a>
            </div>
            <p>Â© 2023 Downloader Video Facebook. Alat download video Facebook gratis. Tidak berafiliasi dengan Facebook.</p>
        </footer>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elemen DOM
            const pasteBtn = document.getElementById('paste-btn');
            const downloadBtn = document.getElementById('download-btn');
            const fbUrlInput = document.getElementById('fb-url');
            const apiKeyInput = document.getElementById('api-key');
            const saveApiKeyBtn = document.getElementById('save-api-key');
            const resultSection = document.getElementById('result');
            const loadingSection = document.getElementById('loading');
            const errorSection = document.getElementById('error');
            const downloadOptions = document.getElementById('download-options');
            
            // Konfigurasi API
            const API_HOST = 'facebook-video-and-reel-downloader.p.rapidapi.com';
            const API_URL = 'https://facebook-video-and-reel-downloader.p.rapidapi.com/api/facebookVideo';
            
            let rapidApiKey = 'd3a7ede4a3mshe6e3e796f1bebf9r1b157jsn64a0d13dbc61';
            
            // Inisialisasi
            apiKeyInput.value = rapidApiKey;
            
            // Fungsi untuk menempelkan dari clipboard
            pasteBtn.addEventListener('click', async function() {
                try {
                    const text = await navigator.clipboard.readText();
                    fbUrlInput.value = text;
                    showNotification('Tautan berhasil ditempel!', 'success');
                } catch (err) {
                    console.error('Gagal membaca clipboard: ', err);
                    showNotification('Gagal menempel dari clipboard', 'error');
                }
            });
            
            // Simpan API Key
            
            
            // Proses download
            downloadBtn.addEventListener('click', async function() {
                const url = fbUrlInput.value.trim();
                
                // Validasi (API Key sudah pasti ada)
if (!rapidApiKey) {
    showNotification('API Key tidak ditemukan', 'error');
    return;
}
                
                if (!url) {
                    showNotification('Harap masukkan tautan video Facebook', 'error');
                    fbUrlInput.focus();
                    return;
                }
                
                if (!isValidFacebookUrl(url)) {
                    showNotification('Harap masukkan tautan video Facebook yang valid', 'error');
                    fbUrlInput.focus();
                    return;
                }
                
                // Tampilkan loading, sembunyikan error dan result
                loadingSection.classList.add('active');
                errorSection.classList.remove('active');
                resultSection.classList.remove('active');
                
                try {
                    // Panggil API RapidAPI
                    const videoData = await fetchFacebookVideo(url);
                    
                    // Sembunyikan loading
                    loadingSection.classList.remove('active');
                    
                    if (videoData.success) {
                        // Tampilkan hasil
                        displayVideoInfo(videoData.data);
                        resultSection.classList.add('active');
                        resultSection.scrollIntoView({ behavior: 'smooth' });
                    } else {
                        // Tampilkan error
                        showError(videoData.error || 'Gagal mendapatkan data video');
                    }
                } catch (error) {
                    loadingSection.classList.remove('active');
                    showError(error.message || 'Terjadi kesalahan saat memproses video');
                }
            });
            
            // Fungsi untuk memanggil API RapidAPI
            async function fetchFacebookVideo(videoUrl) {
    const options = {
        method: 'GET',
        headers: {
            'x-rapidapi-key': rapidApiKey,
            'x-rapidapi-host': API_HOST
        }
    };
    
    try {
        const apiUrl = `${API_URL}?url=${encodeURIComponent(videoUrl)}`;
        const response = await fetch(apiUrl, options);
        
        if (!response.ok) {
            if (response.status === 401 || response.status === 403) {
                throw new Error('API Key tidak valid. Harap periksa API Key Anda.');
            } else if (response.status === 429) {
                throw new Error('Batas penggunaan API terlampaui. Coba lagi nanti.');
            } else {
                throw new Error(`Error API: ${response.status} ${response.statusText}`);
            }
        }
        
        const data = await response.json();
        
        // Format data sesuai dengan API response
        if (data && (data.success || data.video_url)) {
            return {
                success: true,
                data: data
            };
        } else {
            return {
                success: false,
                error: data.message || 'Video tidak ditemukan atau tidak bisa diakses'
            };
        }
    } catch (error) {
        console.error('API Error:', error);
        return {
            success: false,
            error: error.message || 'Gagal terhubung ke API'
        };
    }
}
            
            // Fungsi untuk menampilkan informasi video
            function displayVideoInfo(videoData) {
                // Update informasi video
                document.getElementById('video-title').textContent = videoData.title || 'Facebook Video';
                
                if (videoData.thumbnail) {
                    document.getElementById('video-thumbnail').src = videoData.thumbnail;
                }
                
                // Format durasi jika tersedia
                if (videoData.duration) {
                    const minutes = Math.floor(videoData.duration / 60);
                    const seconds = videoData.duration % 60;
                    document.getElementById('video-duration').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                }
                
                // Tampilkan opsi download
                displayDownloadOptions(videoData);
            }
            
            // Fungsi untuk menampilkan opsi download
            function displayDownloadOptions(videoData) {
                downloadOptions.innerHTML = '';
                
                // Jika API mengembalikan links array
                if (videoData.links && Array.isArray(videoData.links)) {
                    videoData.links.forEach((link, index) => {
                        const downloadOption = document.createElement('div');
                        downloadOption.className = 'download-option';
                        
                        const quality = link.quality || (index === 0 ? 'HD' : 'SD');
                        const size = link.size ? ` (${link.size})` : '';
                        const format = link.ext ? `.${link.ext}` : '.mp4';
                        
                        downloadOption.innerHTML = `
                            <h4><i class="fas fa-video"></i> Kualitas ${quality}</h4>
                            <p>Resolusi: ${link.resolution || 'Tidak diketahui'}${size}</p>
                            <p>Format: ${format}</p>
                            <button class="btn btn-download download-link-btn" data-url="${link.url}">
                                <i class="fas fa-download"></i> Download ${quality}
                            </button>
                        `;
                        
                        downloadOptions.appendChild(downloadOption);
                    });
                } 
                // Jika API mengembalikan format yang berbeda
                else if (videoData.downloadLinks) {
                    Object.entries(videoData.downloadLinks).forEach(([quality, url]) => {
                        const downloadOption = document.createElement('div');
                        downloadOption.className = 'download-option';
                        
                        downloadOption.innerHTML = `
                            <h4><i class="fas fa-video"></i> Kualitas ${quality.toUpperCase()}</h4>
                            <p>Download video dengan kualitas ${quality}</p>
                            <button class="btn btn-download download-link-btn" data-url="${url}">
                                <i class="fas fa-download"></i> Download ${quality.toUpperCase()}
                            </button>
                        `;
                        
                        downloadOptions.appendChild(downloadOption);
                    });
                }
                // Fallback jika format tidak dikenali
                else {
                    downloadOptions.innerHTML = `
                        <div class="download-option">
                            <h4><i class="fas fa-video"></i> Download Video</h4>
                            <p>Klik tombol di bawah untuk mendownload video</p>
                            <a href="${videoData.url || '#'}" class="btn btn-download" target="_blank">
                                <i class="fas fa-download"></i> Download Video
                            </a>
                        </div>
                    `;
                }
                
                // Tambahkan event listener untuk tombol download
                document.querySelectorAll('.download-link-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const downloadUrl = this.getAttribute('data-url');
                        if (downloadUrl) {
                            window.open(downloadUrl, '_blank');
                            showNotification('Download dimulai!', 'success');
                        }
                    });
                });
            }
            
            // Fungsi validasi URL Facebook
            function isValidFacebookUrl(url) {
                const facebookRegex = /(?:https?:\/\/)?(?:www\.|m\.)?(facebook|fb)\.(com|watch)\/.+/i;
                return facebookRegex.test(url);
            }
            
            // Fungsi untuk menampilkan error
            function showError(message) {
                document.getElementById('error-message').textContent = message;
                errorSection.classList.add('active');
                errorSection.scrollIntoView({ behavior: 'smooth' });
            }
            
            // Fungsi untuk menampilkan notifikasi
            function showNotification(message, type) {
                // Hapus notifikasi sebelumnya jika ada
                const existingNotification = document.querySelector('.notification');
                if (existingNotification) {
                    existingNotification.remove();
                }
                
                // Buat elemen notifikasi
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    padding: 15px 20px;
                    border-radius: 10px;
                    color: white;
                    font-weight: 600;
                    z-index: 1000;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                    animation: slideIn 0.3s ease-out;
                `;
                
                if (type === 'success') {
                    notification.style.backgroundColor = '#42b72a';
                } else if (type === 'error') {
                    notification.style.backgroundColor = '#ff3333';
                } else {
                    notification.style.backgroundColor = '#1877f2';
                }
                
                // Tambahkan CSS untuk animasi
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes fadeOut {
                        from { opacity: 1; }
                        to { opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
                
                document.body.appendChild(notification);
                
                // Hapus notifikasi setelah 3 detik
                setTimeout(() => {
                    notification.style.animation = 'fadeOut 0.3s ease-out';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            }
            
            // Contoh URL untuk pengujian
            fbUrlInput.value = "";
            
            // Tambahkan event listener untuk menekan Enter di input
            fbUrlInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    downloadBtn.click();
                }
            });
            
            // Cek jika API Key sudah disimpan
            if (rapidApiKey) {
                showNotification('API Key ditemukan! Anda siap mendownload.', 'success');
            } else {
                showNotification('Harap masukkan API Key RapidAPI Anda', 'info');
            }
        });
    </script>
</body>
</html>